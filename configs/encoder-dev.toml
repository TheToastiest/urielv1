task = "encoder"
run_id = "encoder-v1-dev"
device = "cuda:0"
precision = "bf16"
seed = 42

[model]
name = "encoder-small-v1"

[train]
seq_len = 512
micro_batch = 2
grad_accum = 16
lr = 1.5e-4
warmup_steps = 500
scheduler = "cosine"
weight_decay = 0.01
max_steps = 3000
log_every = 50
eval_every = 300
checkpoint_every = 300

[data]
train_glob = "datasets/encoder/**/train/*.jsonl"
val_glob   = "datasets/encoder/**/val/*.jsonl"
bucket_boundaries = [128, 256, 512]
pack_sequences = true
num_workers = 2
dedup = true
min_conf = 0.4

[checkpoints]
dir = "ckpts/encoder-v1"
keep_last = 2
keep_best = 1

[export]
onnx = true
quantize = "int8"
